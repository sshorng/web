       body {
            font-family: 'GenWanNeoSCjk', 'Noto Sans TC', sans-serif;
            background-color: #fdfbf7; /* Xuan Paper White */
        }

       /* --- Login Page Enhancement --- */
       body.login-background {
           background: linear-gradient(135deg, #fdfcfb 0%, #f0ebe0 100%);
           background-attachment: fixed;
       }

       .login-card {
           background-color: rgba(255, 255, 255, 0.9);
           backdrop-filter: blur(10px);
           border-radius: 0.75rem; /* Slightly larger radius */
           box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1), 0 4px 10px rgba(0, 0, 0, 0.06);
           padding: 2.5rem; /* More padding */
           border: 1px solid rgba(209, 213, 219, 0.7); /* Softer border */
           animation: fadeInFromBottom 0.8s ease-out forwards;
           max-width: 28rem; /* 448px */
           width: 100%;
       }

       @keyframes fadeInFromBottom {
           from {
               opacity: 0;
               transform: translateY(20px);
           }
           to {
               opacity: 1;
               transform: translateY(0);
           }
       }

       .login-title {
           font-family: 'GenWanNeoSCjk', sans-serif;
           font-size: 3rem; /* 48px */
           font-weight: 900;
           color: #374151; /* Dark Ink Gray */
           text-shadow: 2px 2px 5px rgba(0, 0, 0, 0.1);
       }

       .login-subtitle {
           color: #6b7280; /* Medium Ink Gray */
           font-size: 1.125rem; /* 18px */
           margin-top: 0.5rem;
       }

        .font-rounded { font-family: 'GenWanNeoSCjk', sans-serif; font-weight: 700; }
        .loader { border: 5px solid #e0e0e0; border-top: 5px solid #b91c1c; border-radius: 50%; width: 50px; height: 50px; animation: spin 1s linear infinite; }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }

        /* Thematic Styling: Ink Wash Courtyard */
        .card {
            background-color: rgba(255, 255, 255, 0.85);
            backdrop-filter: blur(8px);
            border-radius: 0.5rem;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
            padding: 1.5rem;
            border: 1px solid #d1d5db; /* Ink Gray */
        }
        .btn-primary { background-color: #c0392b; /* Cinnabar Red */ color: white; transition: all 0.2s; border-radius: 0.375rem; font-weight: 700; border: none; padding: 0.7rem 1.6rem; }
        .btn-primary:hover { background-color: #a93226; box-shadow: 0 4px 10px rgba(192, 57, 43, 0.3); transform: translateY(-2px); }
        .btn-primary:active { transform: translateY(1px); }

        .btn-secondary { background-color: #4a4a4a; /* Ink Black */ color: white; transition: all 0.2s; border-radius: 0.375rem; font-weight: 700; border: none; padding: 0.7rem 1.6rem; }
        .btn-secondary:hover { background-color: #333333; box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2); transform: translateY(-2px); }
        .btn-secondary:active { transform: translateY(1px); }
        
        .btn-danger { background-color: #9b2c2c; color: white; transition: all 0.2s; border-radius: 0.375rem; font-weight: 700; border: none; padding: 0.7rem 1.6rem; }
        .btn-danger:hover { background-color: #822020; box-shadow: 0 4px 10px rgba(155, 44, 44, 0.3); transform: translateY(-2px); }
        .btn-danger:active { transform: translateY(1px); }

        .btn-teal { background-color: #576c73; /* Scholar Gray */ color: white; transition: all 0.2s; border-radius: 0.375rem; font-weight: 700; border: none; padding: 0.7rem 1.6rem; }
        .btn-teal:hover { background-color: #435459; box-shadow: 0 4px 10px rgba(87, 108, 115, 0.3); transform: translateY(-2px); }
        .btn-teal:active { transform: translateY(1px); }

        .input-styled { border: 2px solid #d1d5db; border-radius: 0.5rem; padding: 0.75rem 1rem; transition: all 0.2s; background-color: #f9fafb; font-weight: 500; }
        .input-styled:focus { border-color: #c0392b; box-shadow: 0 0 0 3px rgba(192, 57, 43, 0.2); outline: none; }
        
        .modal-backdrop { background-color: rgb(30 30 30 / 0.7); backdrop-filter: blur(4px); }
        .tab-btn {
            border-bottom: 3px solid transparent;
            transition: all 0.2s ease-in-out;
        }
        .tab-btn.active {
            border-bottom-color: #c0392b;
            color: #c0392b;
            font-weight: 800;
        }
        .tab-btn:not(.active):hover {
            border-bottom-color: #e5e7eb; /* light gray on hover */
        }
        .teacher-tab-btn.active { background-color: #4a4a4a; color: white; }
        .teacher-tab-btn { background-color: #f3f4f6; color: #374151; }
        .creation-tab.active { background-color: #4a4a4a; color: white; }
        .creation-tab { background-color: #f3f4f6; color: #374151; }

        .prose-custom p { margin-bottom: 1.25rem; line-height: 1.8; font-size: 1.125rem; }
        .highlight { border-radius: 3px; padding: 2px 1px; }
        .pagination-btn[disabled] { cursor: not-allowed; opacity: 0.5; }

        /* Reading Mode Styling */
        #reading-view.reading-mode {
            padding: 0;
        }
        
        /* Custom Scrollbar for independent scrolling panels */
        .custom-scrollbar::-webkit-scrollbar {
          width: 8px;
        }
        .custom-scrollbar::-webkit-scrollbar-track {
          background: transparent; 
        }
        .custom-scrollbar::-webkit-scrollbar-thumb {
          background-color: rgba(100, 116, 139, 0.3); /* slate-500 with opacity */
          border-radius: 4px;
          border: 2px solid transparent;
          background-clip: content-box;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb:hover {
          background-color: rgba(100, 116, 139, 0.5);
        }
       .text-ink-shadow {
           text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.2);
       }
       .divider-ink {
           border: 0;
           height: 1px;
           background: linear-gradient(to right, transparent, rgba(0, 0, 0, 0.1), transparent);
           margin-bottom: 1.5rem;
       }
      .avatar-seal {
          background-color: #c0392b; /* Cinnabar Red */
          border: 3px solid #a93226; /* Darker Cinnabar */
          box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.15);
          color: white;
          font-weight: bold;
      }
      .avatar-seal-text {
          font-size: 1.5rem; /* 24px */
          line-height: 2rem; /* 32px */
          font-family: 'GenWanNeoSCjk', 'Noto Sans TC', sans-serif;
          transform: translateY(1px);
      }
      .btn-seal {
          border-radius: 0.25rem; /* Slightly rounded corners for a stamp feel */
          border: 2px solid #a93226; /* Darker Cinnabar border */
          box-shadow: 0 2px 4px rgba(0,0,0,0.1);
          font-weight: 900; /* Bolder font */
          letter-spacing: 0.1em; /* Wider letter spacing */
          padding-top: 0.8rem;
          padding-bottom: 0.8rem;
      }
      .btn-seal:hover {
          box-shadow: 0 4px 10px rgba(192, 57, 43, 0.4);
      }
      .btn-seal:active {
           box-shadow: inset 0 2px 4px rgba(0,0,0,0.2);
           transform: translateY(2px);
      }
      .status-seal {
          position: absolute;
          top: -0.75rem;
          left: -0.75rem;
          z-index: 10;
          display: inline-flex;
          align-items: center;
          justify-content: center;
          width: 2.75rem; /* 44px */
          height: 2.75rem; /* 44px */
          border-radius: 9999px;
          font-size: 0.875rem;
          font-weight: 900;
          background-color: #fdfbf7; /* White Paper Background */
          border: 3px solid; /* Border color from state */
          letter-spacing: 0.05em;
          transform: rotate(-8deg);
          box-shadow: 1px 1px 4px rgba(0,0,0,0.2);
      }
      /* --- Status Indicator Styles --- */
      /* 1. Seal for Article Grid (White background, colored border/text) */
      .status-seal-complete { border-color: #225748; color: #225748; } /* Pine Green */
      .status-seal-overdue { border-color: #8C384D; color: #8C384D; }   /* Rouge Red */
      .status-seal-incomplete { border-color: #B58423; color: #B58423; } /* Ochre Yellow */

      /* 2. Border for Assignments List */
      .assignment-item.status-border-complete { border-left: 5px solid #225748; }
      .assignment-item.status-border-overdue { border-left: 5px solid #8C384D; }
      .assignment-item.status-border-incomplete { border-left: 5px solid #B58423; }

      /* --- Form Element Styles --- */
      .form-element-ink {
           background-color: #fdfbf6; /* Rice Paper White */
           border: 2px solid #d1d5db; /* Ink Gray-300 */
           color: #374151; /* Ink Gray-700 */
           border-radius: 0.375rem; /* rounded-md */
           padding: 0.7rem 0.9rem;
           transition: border-color 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
           width: 100%;
           font-family: 'GenWanNeoSCjk', 'Noto Sans TC', sans-serif;
           font-size: 1rem;
      }

       .form-element-ink:focus, .form-element-ink:focus-within {
           outline: none;
           border-color: #4b5563; /* Ink Gray-600 */
           box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1); /* Faint Blue Shadow */
       }

       .form-element-ink::placeholder {
           color: #9ca3af; /* Ink Gray-400 */
       }

       /* Specific styling for select to handle the dropdown arrow */
       select.form-element-ink {
           -webkit-appearance: none;
           -moz-appearance: none;
           appearance: none;
           background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3e%3c/svg%3e");
           background-position: right 0.5rem center;
           background-repeat: no-repeat;
           background-size: 1.5em 1.5em;
           padding-right: 2.5rem;
       }


/* --- Mermaid Chart Theming --- */

/* General Font and Color */
.mermaid svg text {
    font-family: 'GenWanNeoSCjk', 'Noto Sans TC', sans-serif !important;
    fill: #374151 !important; /* Ink Gray-700 */
}

/* --- Flowchart Theming --- */
.mermaid .node rect, .mermaid .node circle, .mermaid .node polygon {
    fill: #fdfbf6 !important; /* Rice Paper White */
    stroke: #576c73 !important; /* Scholar Gray */
    stroke-width: 2px !important;
}
.mermaid .node.default .label {
    color: #374151 !important;
}
.mermaid .edge-path, .mermaid .arrowhead-path {
    stroke: #576c73 !important; /* Scholar Gray */
}

/* --- Sequence Diagram Theming --- */
.mermaid .actor, .mermaid .participant {
    fill: #fdfbf6 !important;
    stroke: #576c73 !important;
}
.mermaid .sequence-arrow, .mermaid .messageLine0, .mermaid .messageLine1 {
    stroke: #374151 !important;
}

/* --- Gantt Chart Theming --- */
.mermaid .gantt .section {
    fill: rgba(74, 74, 74, 0.1) !important; /* Ink Black with low opacity for section background */
    stroke: none !important;
}
.mermaid .gantt .section .text {
    fill: #333 !important;
    font-weight: 600;
}
.mermaid .gantt .task, .mermaid .gantt .task-alt {
    stroke-width: 2 !important;
}
/* Default/Active Task Style */
.mermaid .gantt .task.active {
    fill: #576c73 !important; /* Scholar Gray */
    stroke: #435459 !important;
}
/* Completed Task Style */
.mermaid .gantt .task.done {
    fill: #8C384D !important; /* Rouge Red */
    stroke: #6E2C3C !important;
}
/* Future/Default Task Style */
.mermaid .gantt .task.default {
    fill: #B58423 !important; /* Ochre Yellow */
    stroke: #9A6E1C !important;
}
.mermaid .gantt .task-text {
    fill: white !important;
    font-weight: 500;
}
.mermaid .grid .tick {
    stroke: #d1d5db !important; /* Ink Gray */
    stroke-width: 1 !important;
}
.mermaid .grid-line {
    stroke: #e5e7eb !important; /* Lighter Ink Gray */
}
.mermaid .today-marker {
    stroke: #c0392b !important; /* Cinnabar Red */
    stroke-width: 3px !important;
}

/* --- XYChart Theming --- */
.mermaid svg .chart-title text {
    font-weight: 700;
}
.mermaid svg .axis-line path,
.mermaid svg .ticks path {
    stroke: #9ca3af !important; /* Ink Gray-400 */
}
.mermaid svg .bar-plot-0 rect {
    fill: #576c73 !important; /* Scholar Gray */
}
.mermaid svg .bar-plot-1 rect {
    fill: #c0392b !important; /* Cinnabar Red */
}

.content-tab {
    padding: 0.75rem 1.5rem;
    font-weight: 600;
    font-size: 1rem;
    color: #4b5563; /* Gray-600 */
    border-bottom: 3px solid transparent;
    transition: all 0.2s ease-in-out;
}

.content-tab:hover:not([disabled]) {
    color: #1f2937; /* Gray-800 */
}

.content-tab.active {
    color: #c0392b; /* Cinnabar Red */
    border-bottom-color: #c0392b;
    font-weight: 800;
}

.content-tab:disabled {
    color: #9ca3af; /* Gray-400 */
    cursor: not-allowed;
}
